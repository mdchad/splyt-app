(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(6),i=n.n(c),o=(n(95),n(63)),s=n.n(o),u=n(82),l=n(27),p=(n(97),n(172)),d=n(173),m=n(171),h=n(174),v=n(12);n(98);function f(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var g=function(e){var t=e.data,n=e.position,c=function(){var e=Object(a.useState)(f()),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)(function(){function e(){r(f())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),n}(),i=(c.height,c.width<376?13:14),o=Object(v.divIcon)({className:"",iconAnchor:[0,24],popupAnchor:[0,-36],html:"<span class='custom-pin'>HQ</span>"});return r.a.createElement("div",{className:"map-height"},r.a.createElement(p.a,{center:[n.lat,n.lng],zoom:i,className:"map-height"},r.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(m.a,{position:[n.lat,n.lng],icon:o},r.a.createElement(h.a,null,"Splyt HQ")),t.drivers.map(function(e){return r.a.createElement(m.a,{position:[e.location.latitude,e.location.longitude],key:e.driver_id},r.a.createElement(h.a,null,e.driver_id))})))},w=n(88),b=(n(101),n(102),n(44)),E=n(64),j=(n(158),function(e){var t=e.value,n=e.dragging,a=e.index,c=Object(w.a)(e,["value","dragging","index"]);return r.a.createElement(b.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:a},r.a.createElement(E.a,Object.assign({value:t},c)))}),O=function(e){var t=e.count,n=e.setCount;return r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("p",null,"Drivers"),r.a.createElement(E.b,{min:0,max:50,defaultValue:t,handle:j,onAfterChange:function(e){return n(e)}}),r.a.createElement("span",null,t))},y=n(87),x=n.n(y),k=function(){var e=Object(a.useState)({pickup_eta:0,drivers:[]}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),p=o[0],d=o[1],m=Object(a.useState)(1),h=Object(l.a)(m,2),v=h[0],f=h[1],w=Object(a.useState)({lat:51.5049375,lng:-.0964509}),b=Object(l.a)(w,2),E=b[0],j=(b[1],"https://qa-interview-test.qa.splytech.io/api/drivers?latitude=".concat(E.lat,"&longitude=").concat(E.lng,"&count=").concat(v)),y=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+j);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c(n),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){y()},[v,j]),r.a.createElement("div",{className:"App"},r.a.createElement(x.a,{active:p,spinner:!0,text:"Fetching drivers"},r.a.createElement(g,{data:n,position:E})),r.a.createElement(O,{count:v,setCount:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,n){e.exports=n(169)},95:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.d18b601f.chunk.js.map