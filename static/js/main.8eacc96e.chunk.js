(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(6),i=n.n(c),o=(n(96),n(63)),l=n.n(o),s=n(82),u=n(27),p=(n(98),n(172)),d=n(174),m=n(171),v=n(173),h=n(12);n(99);function f(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var g=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t.drivers.map(function(e){return r.a.createElement(m.a,{position:[e.location.latitude,e.location.longitude],key:e.driver_id},r.a.createElement(v.a,null,e.driver_id))}))},w=function(e){var t=e.position,n=e.data,c=function(){var e=Object(a.useState)(f()),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)(function(){function e(){r(f())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),n}().width<376?13:14,i=Object(h.divIcon)({className:"",iconAnchor:[0,24],popupAnchor:[0,-36],html:"<span class='custom-pin'>HQ</span>"});return r.a.createElement("div",{className:"map-height"},r.a.createElement(p.a,{center:[t.lat,t.lng],zoom:c,className:"map-height"},r.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(m.a,{position:[t.lat,t.lng],icon:i},r.a.createElement(v.a,null,"Splyt HQ")),r.a.createElement(g,{data:n})))},E=n(88),b=(n(102),n(103),n(44)),j=n(64),O=(n(159),function(e){var t=e.value,n=e.dragging,a=e.index,c=Object(E.a)(e,["value","dragging","index"]);return r.a.createElement(b.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:a},r.a.createElement(j.a,Object.assign({value:t},c)))}),y=function(e){var t=e.count,n=e.setCount,a=e.loading;return r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("p",null,"Drivers"),r.a.createElement(j.b,{disabled:a,min:0,max:50,defaultValue:t,handle:O,onAfterChange:function(e){return n(e)}}),r.a.createElement("span",null,t))},x=n(87),k=n.n(x),S=function(){var e=Object(a.useState)({pickup_eta:0,drivers:[]}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),p=o[0],d=o[1],m=Object(a.useState)(1),v=Object(u.a)(m,2),h=v[0],f=v[1],g=Object(a.useState)({lat:51.5049375,lng:-.0964509}),E=Object(u.a)(g,1)[0],b="https://qa-interview-test.qa.splytech.io/api/drivers?latitude=".concat(E.lat,"&longitude=").concat(E.lng,"&count=").concat(h),j=function(){var e=Object(s.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,fetch("https://cors-anywhere.herokuapp.com/"+b);case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,c(n),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){j()},[h]),r.a.createElement("div",{className:"App"},r.a.createElement(k.a,{active:p,spinner:!0,text:"Fetching drivers"},r.a.createElement(w,{data:n,position:E})),r.a.createElement(y,{loading:p,count:h,setCount:f}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){e.exports=n(170)},96:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.8eacc96e.chunk.js.map